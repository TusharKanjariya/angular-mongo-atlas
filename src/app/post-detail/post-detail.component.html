<navigation></navigation>
<div class="container mt-5">
  <div class="row">
    <div class="col-md-4">
      <img
        src="http://localhost:3000/uploads/{{ postDetail?.image }}"
        alt="{{ postDetail?.title }}"
        class="img-fluid"
      />
    </div>
    <div class="col-md-6">
      <h1>{{ postDetail?.title }}</h1>
      <p>Category : {{ postDetail?.category }}</p>
      <div>
        Tags:
        <span class="badge badge-secondary ml-1" *ngFor="let y of tags">{{
          y
        }}</span>
      </div>
      <h5 class="mt-3">
        Uploaded
        <span *ngIf="teamData"
          >in Team
          <a href="#!" routerLink="/team/{{ teamData?._id }}">{{
            teamData?.name
          }}</a></span
        >
        by
        <a href="#!" routerLink="/profile/{{ postDetail?.Userid }}"
          >{{ (postDetail?.userData)[0].fname }}
          {{ (postDetail?.userData)[0].lname }}</a
        >
        <button
          class="ml-3 btn btn-sm btn-primary"
          (click)="followUser((postDetail?.userData)[0]._id)"
          *ngIf="!followed"
        >
          Follow
        </button>
        <button
          class="ml-3 btn btn-sm btn-outline-primary"
          *ngIf="followed"
          (click)="unfollowUser((postDetail?.userData)[0]._id)"
        >
          Unfollow
        </button>
      </h5>
    </div>
  </div>
  <div class="row mt-5">
    <div class="offset-md-1 col-md-10">
      <ul class="list-unstyled">
        <li class="media mb-3" *ngFor="let chat of comments">
          <img
            src="http://localhost:3000/profiles/{{ (chat?.userData)[0].image }}"
            class="mr-3 rounded-circle"
            alt="{{ (chat?.userData)[0].fname }} {{
              (chat?.userData)[0].lname
            }}"
            width="64px"
            height="64px"
          />
          <div class="media-body">
            <h5 class="mt-0 mb-1">
              {{ (chat?.userData)[0].fname }} {{ (chat?.userData)[0].lname }}
            </h5>
            {{ chat?.comment }}
          </div>
        </li>
      </ul>
      <h4>Add a new comment</h4>
      <textarea class="form-control" [(ngModel)]="comment"></textarea><br />
      <button class="btn btn-primary" (click)="postComment(postDetail._id)">
        Post Comment
      </button>
    </div>
  </div>
</div>
